

* katip

** TODO Should we remove orphan IO instance and add a LoggingT?
** DONE Add a "Maybe LocInfo" using a TH version of logF
   CLOSED: [2015-02-28 Sat 21:23]
** DONE Log current PID in Item
   CLOSED: [2015-02-28 Sat 20:01]
** DONE Rethink important fields
   CLOSED: [2015-02-28 Sat 20:01]

*** Maybe add a logF variant that uses the class, but it's not
    mandatory

*** Another variant that explicitly passes the fields of interest

** DONE Add Verbosity to the mix
   CLOSED: [2015-02-28 Sat 20:01]

** DONE AppName -> [Text]
   CLOSED: [2015-02-28 Sat 20:21]

- LogEnv defines the base name-space
- logF gets a [Text] argument for AppName namespace
- Whe two are concatted for each message



* katip-elasticsearch

** TODO Efficient UUID generation (don't use system rng)

   Make RNG once, store it behind an mvar and use it in all uuid
   generation. Use the rng-utils module for this.

** TODO Async size-capped buffer for incoming items
   Don't block log requests for server connection, add to buffer and
   move on. If buffer fills up, drop further logs until there's space.

   We can use a limited chan with a pre-check to make sure that if
   the size limit is reached, we drop the request instead of blocking
   until limit is reached.

** TODO Connection pooling (bloodhound)

   Exposing Manager would solve this, as it does internal pooling.

** TODO Stop using Strings everywhere (bloodhound)

   Seems to be a limitation of http-client that we'll have to live
   with for now.
